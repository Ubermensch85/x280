/* ==================================== */
/* 1. STILE BASE & FONT                 */
/* ==================================== */
* {
    all: unset;
    font-family: "Iosevka Nerd Font";
    font-size: 14px;
    min-height: 0;
}

/* ==================================== */
/* 2. BARRA PRINCIPALE E CONTENITORE    */
/* ==================================== */
window#waybar {
    background-color: transparent;
}

/* Sfondo e forma del contenitore unificato dei moduli */
#waybar > box {
    background-color: rgba(50, 50, 50, 0.65);  /* Grigio semitrasparente */
    border-radius: 12px;
    margin: 4px 10px;
    padding: 0 2px;
    min-height: 28px;
    border: 1px solid rgba(100, 100, 100, 0.2);
}

/* ==================================== */
/* 3. MODULI & ELEMENTI INTERNI         */
/* ==================================== */
/* Assicura che i contenitori di moduli siano trasparenti */
.modules-left,
.modules-center,
.modules-right {
    background-color: transparent;
    padding: 0;
    margin: 0;
}

/* Stile per i singoli elementi (senza sfondo e con padding) */
#workspaces, #cpu, #memory, #clock, #pulseaudio, #battery, #tray, #temperature,
#disk, #backlight, #custom-arch, #custom-updates, #custom-weather, #custom-gammastep,
#custom-network { 
    background-color: transparent;
    padding: 2px 8px;
    margin: 0;
    border-radius: 0;
}

/* Stile per gli elementi interattivi */
#clock {
    font-weight: bold;
}

/* ==================================== */
/* 4. WORKSPACES                        */
/* ==================================== */
#workspaces button {
    padding: 0 6px;
    color: white; /* Inattivi */
    background-color: transparent;
}

#workspaces button.active {
    color: #00BFFF; /* Azzurro vivo */
    text-shadow: 0 0 5px rgba(0, 191, 255, 0.7);
}

/* ==================================== */
/* 5. STATO & AVVISI                    */
/* ==================================== */
#battery.critical {
    color: #ff5555;
    animation: pulse 1s infinite alternate;
}

@keyframes pulse {
    to { opacity: 0.5; }
}

/* Stili per le classi aggiunte dallo script net-status.sh */
#custom-network.vpn {
    color: #4CAF50; /* Verde per la VPN */
}
#custom-network.disconnected {
    color: #ff5555; /* Rosso per Disconnesso */
}

/* ==================================== */
/* 6. TOOLTIP UNIFICATO                 */
/* ==================================== */
tooltip {
    /* Stile uniforme per tutti i tooltip (Wi-Fi, Clock, ecc.) */
    background-color: rgba(40, 40, 40, 0.9);
    border-radius: 6px;
    padding: 8px;
    border: 1px solid rgba(150, 150, 150, 0.2);
}

/* Assicura che il testo nel tooltip sia bianco */
tooltip label {
    color: white;
}  /* <--- QUI MANCAVA LA PARENTESI DI CHIUSURA */


/* ==================================== */
/* 7. BARRA SPOTIFY (Bottom)            */
/* ==================================== */

/* 1. La finestra deve essere TRASPARENTE per evitare il "doppio bordo" */
window#waybar.bottombar {
    background-color: transparent;
    border: none;
    border-radius: 0;
    box-shadow: none;
}

/* 2. Applichiamo lo stile al BOX interno, ereditando i colori della barra sopra.
      Usiamo 'window#waybar.bottombar > box' per essere specifici solo per questa barra */
window#waybar.bottombar > box {
    /* Stessi colori della barra in alto (presi dalla tua Sezione 2) */
    background-color: rgba(50, 50, 50, 0.65);
    border: 1px solid rgba(100, 100, 100, 0.2);
    
    /* Arrotondamento: 12px è come sopra. Se la vuoi più "a pillola", metti 20px */
    border-radius: 20px; 
    
    /* Riduciamo leggermente i margini interni per renderla compatta */
    margin: 4px 10px;
    padding: 0 10px;
}

/* 3. Stile del testo (brano musicale) */
window#waybar.bottombar #mpris {
    color: #ffffff; /* Bianco pulito come gli altri moduli */
    text-shadow: 0 0 5px rgba(0, 0, 0, 0.5); /* Leggera ombra per leggibilità */
    padding: 0 10px;
}
